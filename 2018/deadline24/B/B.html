
<!DOCTYPE html>
<html>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
<body>

<div ng-app="myApp" ng-controller="myCtrl">
	<div ng-repeat="(q, field) in tests">
    	<button ng-click="change()">OK</button>
    	<button ng-click="done()">DONE</button>
    	<input ng-model="curr" type="number"></input>
		<table border="1">
      	<tr ng-repeat="(i, row) in field">
	          <td ng-repeat="(j, cell) in row track by $index" width="40px" ng-click="lol(q, i, j)" ng-style='{"background-color": getColor(cell)}'>
	              {{cell}}
	          </td>
	      </tr>
		</table>
    </div>
    
</div>

<script>
var app = angular.module('myApp', []);
app.controller('myCtrl', function($scope) {
	$scope.getColor = function(x)
    {
    	return $scope.colors[Math.floor((x > 0 ? x : -x) / 100)];
    };
	$scope.colors = ['#FF6633', '#FFB399', '#FF33FF', '#FFFF99', '#00B3E6', 
		  '#E6B333', '#3366E6', '#999966', '#99FF99', '#B34D4D',
		  '#80B300', '#809900', '#E6B3B3', '#6680B3', '#66991A', 
		  '#FF99E6', '#CCFF1A', '#FF1A66', '#E6331A', '#33FFCC',
		  '#66994D', '#B366CC', '#4D8000', '#B33300', '#CC80CC', 
		  '#66664D', '#991AFF', '#E666FF', '#4DB3FF', '#1AB399',
		  '#E666B3', '#33991A', '#CC9999', '#B3B31A', '#00E680', 
		  '#4D8066', '#809980', '#E6FF80', '#1AFF33', '#999933',
		  '#FF3380', '#CCCC00', '#66E64D', '#4D80CC', '#9900B3', 
		  '#E64D66', '#4DB380', '#FF4D4D', '#99E6E6', '#6666FF'];
	$scope.done = function()
    {
    	for (var i = 0; i < $scope.tests.length; ++i)
        {
        	for (var j = 0; j < $scope.tests[i].length; ++j)
        		console.log(JSON.stringify($scope.tests[i][j]).replace(/,/g, ' ').replace('[', '').replace(']', ''));
            
            console.log('\t');
        }
    };
    $scope.tests = [
[[100,-100,400,-400,700,-700,0,0,0,1100,0,0
], [200,0,0,0,0,-1100,0,0,0,0,0,0
], [-200,0,0,0,-500,0,0,0,0,0,0,0
], [0,0,500,0,0,0,1200,-1200,0,0,0,0
], [0,0,0,0,0,1000,0,0,900,0,0,0
], [0,0,0,0,0,0,1300,-1000,0,0,0,-1500
], [0,0,0,0,0,0,-1300,1500,0,-900,0,0
], [0,0,0,0,0,0,0,0,0,0,0,0
], [300,-300,600,-600,800,-800,1400,-1400,-1600,0,0,1600
], ], 
[[100,500,-500,1000,1100,-1100,0,0
], [-100,600,-600,-1000,1200,1500,0,0
], [200,-200,900,-900,-1200,-1500,0,0
], [300,700,-700,-1400,1300,-1300,0,1600
], [-300,800,-800,0,0,1400,0,-1600
], [0,-400,-1700,0,0,0,0,0
], [0,400,0,0,0,0,0,0
], [0,0,0,0,0,0,0,0
], [1700,0,0,0,0,0,0,0
], ], 
[[0,0,0,700,0,0,0,0,-400
], [0,-700,0,0,0,0,0,0,0
], [0,0,0,0,0,0,0,0,0
], [0,0,0,0,0,0,0,0,0
], [100,0,0,1000,-1000,0,0,0,0
], [0,0,0,0,0,0,0,-900,0
], [0,0,500,0,0,1300,-1300,0,0
], [0,0,-500,0,0,0,0,0,400
], [0,-100,800,0,0,0,0,900,0
], [200,-200,-800,-1100,1200,0,0,0,0
], [300,600,0,0,-1200,0,0,0,0
], [-300,-600,0,0,0,0,0,0,1100
], ], 
[[100,0,0,0,0,0,0,0,0,0,-700,0
], [-100,0,-500,0,0,0,0,1000,-1000,0,0,0
], [500,0,0,0,0,0,0,0,0,0,0,700
], [0,0,0,0,0,0,0,0,1200,-1200,0,0
], [0,0,0,0,0,0,0,0,0,0,0,0
], [0,0,0,0,0,0,0,1100,-1100,200,0,0
], [0,0,0,600,0,0,-600,0,0,0,0,0
], [0,300,0,0,0,0,0,0,0,0,0,0
], [0,-300,400,-400,800,-800,900,-900,-1300,1300,0,-200
], ], 
[[100,0,0,0,0,0,0,200,0,-400,0,-900
], [-100,0,0,0,600,0,0,0,0,0,0,900
], [0,0,0,0,0,0,0,0,0,0,0,0
], [0,0,0,-600,0,0,0,0,0,0,0,-800
], [0,0,0,0,0,700,0,0,-700,0,0,0
], [0,0,0,0,0,0,0,400,0,0,0,0
], [300,0,0,0,0,0,0,0,0,0,0,0
], [-300,0,0,0,0,0,0,-200,0,0,0,0
], [0,0,0,0,0,0,0,0,0,0,0,0
], [0,0,0,0,0,0,0,0,0,0,0,1000
], [0,0,500,-500,0,0,0,0,0,800,0,-1000
], ], 
[[300,0,0,0,0,0,0,0,0
], [0,0,0,0,0,0,0,-1300,0
], [0,0,500,800,0,1200,-1200,1300,0
], [0,0,-500,-800,0,0,0,0,-300
], [100,400,600,-600,1000,-1000,0,0,0
], [-100,-400,0,0,1100,0,0,1400,0
], [0,0,700,-700,-1100,0,0,0,0
], [0,0,0,900,-900,0,0,0,0
], [0,200,0,0,0,0,-200,0,0
], [0,0,-1400,0,0,0,0,0,0
], ], 
[[100,-100,1000,-1000,1400,-1400,0,0,0
], [200,-200,1100,-1100,1500,1700,0,0,0
], [300,600,-600,1200,-1500,-1700,0,0,0
], [-300,700,-700,-1200,1600,-1600,0,800,0
], [400,0,0,0,0,0,0,0,0
], [-400,0,0,0,-800,0,0,0,0
], [500,0,0,0,0,0,0,-1300,1800
], [-500,900,-900,1300,0,0,0,0,-1800
], ], 
[[100,0,0,0,0,-100,900,-900,0,0
], [200,-200,0,700,0,0,0,0,-700,0
], [300,500,0,0,0,0,0,0,0,0
], [-300,-500,0,0,0,0,0,1000,0,0
], [400,0,0,-800,800,0,0,0,0,0
], [-400,0,0,0,0,0,0,0,0,0
], [0,0,0,0,0,-1000,0,0,0,0
], [0,600,-600,0,0,0,0,0,0,0
], [0,0,0,0,-1100,0,0,0,0,1100
], ], 
]
;
    $scope.peek = false;
    $scope.curr = 0;
    $scope.change = function()
    {
    	$scope.peek = true;
    };
    
    $scope.lol = function(q, i, j)
    {
    	if ($scope.peek)
        	$scope.tests[q][i][j] = 0;
        else
        {
	    	if ($scope.tests[q][i][j] > 0)
	    		$scope.curr = $scope.tests[q][i][j];
        	else
        		$scope.tests[q][i][j] = ++$scope.curr;
        }
        $scope.peek = false;
    };
    $scope.lastName= "Doe";
});
</script>

</body>
</html>
